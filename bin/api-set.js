
const cli = require('../lib/command')
const log = require('../lib/console/log')
const parameter = require('../lib/command/parameter')
const set = require('../commands/set.js')

cli('api update', 'Set the title, excerpt, content, categories, and/or the date of a resource entry.')
    .parameter(parameter.categories.definition, parameter.categories.description)
    .parameter(parameter.content.definition, parameter.content.description)
    .parameter(parameter.date.definition, parameter.date.description)
    .parameter(parameter.excerpt.definition, parameter.excerpt.description)
    .parameter(parameter.name.definition, parameter.name.description)
    .parameter(parameter.src)
    .parameter(parameter.title.definition, parameter.title.description)
    .parameter(parameter.type)
    .action(args => {
        console.time('API source set in')
        set(args)
            .map(() => {
                log(`The entry "${args.name}" has been successfully updated`)
                console.timeEnd('API source set in')
            })
            .run()
    })
    .parse(process.argv)
